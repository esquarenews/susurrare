:root {
  color-scheme: light;
  --bg: #ffffff;
  --surface: #ffffff;
  --surface-strong: #ffffff;
  --text: #1f1d2b;
  --muted: #6d6a83;
  --text-muted: var(--muted);
  --accent: #6b5bd4;
  --accent-soft: #ece9ff;
  --border: #e6e4f2;
  --control-radius: 12px;
  --control-padding-x: 12px;
  --control-padding-y: 9px;
  --field-width-short: 12rem;
  --field-width-standard: 18rem;
  --field-width-wide: 28rem;
  --focus-ring: 0 0 0 3px rgba(107, 91, 212, 0.2);
  --shadow: 0 16px 36px rgba(36, 30, 74, 0.12);
  --font-sans: 'Space Grotesk', 'IBM Plex Sans', system-ui, sans-serif;
  --font-serif: 'Fraunces', 'Georgia', serif;
  --sidebar-bg: #ffffff;
  --sidebar-ink: #1f1d2b;
  --card-accent: rgba(107, 91, 212, 0.08);
  --highlight: #dcd4ff;
  --recording: #e25555;
  --processing: #3b7dd8;
  --success: #2f8f67;
  --warning: #d08c3b;
  --sus-bg: #ffffff;
  --sus-bg-alt: #f8fafc;
  --sus-ink: #1f2937;
  --sus-ink-muted: #6b7280;
  --sus-blue: #2fc2ff;
  --sus-indigo: #4f7cff;
  --sus-violet: #8a4dff;
  --sus-pink: #ff3ea5;
  --sus-neutral-stroke: var(--sus-ink);
  --sus-disabled-stroke: var(--sus-ink-muted);
  --sus-glow-opacity: 0.35;
  --sus-glow-blur: 10px;
  --sus-icon-size: 24px;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) {
    color-scheme: dark;
    --bg: #0f0c16;
    --surface: #171324;
    --surface-strong: #1f1930;
    --text: #f1eefc;
    --muted: #b1a9d6;
    --text-muted: var(--muted);
    --accent: #b6a6ff;
    --accent-soft: #2a2147;
    --border: #2b2342;
    --focus-ring: 0 0 0 3px rgba(182, 166, 255, 0.25);
    --shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
    --sidebar-bg: #120f1c;
    --sidebar-ink: #f1eefc;
    --card-accent: rgba(182, 166, 255, 0.12);
    --highlight: #3b2a6b;
    --recording: #f06b6b;
    --processing: #6aa7ff;
    --success: #59c28a;
    --warning: #f0b48a;
    --sus-bg: #0b0614;
    --sus-bg-alt: #12081f;
    --sus-ink: #e5e7eb;
    --sus-ink-muted: #9ca3af;
    --sus-blue: #42d2ff;
    --sus-indigo: #5b86ff;
    --sus-violet: #9a6bff;
    --sus-pink: #ff4fb3;
    --sus-neutral-stroke: var(--sus-ink);
    --sus-disabled-stroke: var(--sus-ink-muted);
    --sus-glow-opacity: 0.45;
    --sus-glow-blur: 12px;
  }
}

:root[data-theme='dark'] {
  color-scheme: dark;
  --bg: #0f0c16;
  --surface: #171324;
  --surface-strong: #1f1930;
  --text: #f1eefc;
  --muted: #b1a9d6;
  --text-muted: var(--muted);
  --accent: #b6a6ff;
  --accent-soft: #2a2147;
  --border: #2b2342;
  --focus-ring: 0 0 0 3px rgba(182, 166, 255, 0.25);
  --shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
  --sidebar-bg: #120f1c;
  --sidebar-ink: #f1eefc;
  --card-accent: rgba(182, 166, 255, 0.12);
  --highlight: #3b2a6b;
  --recording: #f06b6b;
  --processing: #6aa7ff;
  --success: #59c28a;
  --warning: #f0b48a;
  --sus-bg: #0b0614;
  --sus-bg-alt: #12081f;
  --sus-ink: #e5e7eb;
  --sus-ink-muted: #9ca3af;
  --sus-blue: #42d2ff;
  --sus-indigo: #5b86ff;
  --sus-violet: #9a6bff;
  --sus-pink: #ff4fb3;
  --sus-neutral-stroke: var(--sus-ink);
  --sus-disabled-stroke: var(--sus-ink-muted);
  --sus-glow-opacity: 0.45;
  --sus-glow-blur: 12px;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) .sidebar {
    background: linear-gradient(180deg, #120f1c 0%, #0f0c16 100%);
  }
}

:root[data-theme='dark'] .sidebar {
  background: linear-gradient(180deg, #120f1c 0%, #0f0c16 100%);
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  height: 100%;
}

body {
  margin: 0;
  font-family: var(--font-sans);
  color: var(--text);
  background: #ffffff;
  overflow: hidden;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) body {
    background: radial-gradient(circle at top left, #1a152b 0%, #0f0c16 55%, #0a0811 100%);
  }
}

:root[data-theme='dark'] body {
  background: radial-gradient(circle at top left, #1a152b 0%, #0f0c16 55%, #0a0811 100%);
}

button,
input {
  font-family: inherit;
}

.app-shell {
  background: var(--bg);
}

.app-shell {
  display: grid;
  grid-template-columns: 240px 1fr;
  height: 100%;
}

.sidebar {
  background: linear-gradient(180deg, #ffffff 0%, #f4f1ff 100%);
  border-right: 1px solid var(--border);
  padding: 24px 18px;
  display: flex;
  flex-direction: column;
  gap: 18px;
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
}

.sidebar-header {
  display: flex;
  gap: 12px;
  align-items: center;
}

.app-icon {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  background: transparent;
  background-image: url('/images/icon-susarrare-light.png');
  background-size: cover;
  background-position: center;
  box-shadow: 0 12px 24px rgba(161, 90, 58, 0.25);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) .app-icon {
    background-image: url('/images/icon-susarrare-dark.png');
  }
}

:root[data-theme='dark'] .app-icon {
  background-image: url('/images/icon-susarrare-dark.png');
}

.brand {
  font-weight: 600;
}

.subtitle {
  font-size: 12px;
  color: var(--muted);
}

.nav {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid transparent;
  background: transparent;
  color: var(--text);
  text-align: left;
  cursor: pointer;
  transition: all 0.15s ease;
}

.nav-item:hover {
  background: var(--accent-soft);
}

.nav-item:hover .nav-icon {
  background: #ffffff;
  border: 1px solid rgba(107, 91, 212, 0.2);
}

.nav-item.active {
  background: var(--accent-soft);
  border: 1px solid rgba(107, 91, 212, 0.25);
  box-shadow: var(--shadow);
}

.nav-icon {
  width: 32px;
  height: 32px;
  display: grid;
  place-items: center;
  border-radius: 12px;
  background: rgba(107, 91, 212, 0.12);
  border: 1px solid transparent;
  color: #6b5bd4;
  --sus-icon-size: 20px;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) .nav-item:hover {
    background: rgba(182, 166, 255, 0.12);
  }

  :root:not([data-theme='light']) .nav-item.active {
    background: rgba(182, 166, 255, 0.18);
    border-color: rgba(182, 166, 255, 0.3);
  }

  :root:not([data-theme='light']) .nav-item:hover .nav-icon {
    background: #1f1930;
    border-color: rgba(182, 166, 255, 0.35);
  }

  :root:not([data-theme='light']) .nav-icon {
    background: #2a2147;
    color: #b6a6ff;
  }
}

:root[data-theme='dark'] .nav-item:hover {
  background: rgba(182, 166, 255, 0.12);
}

:root[data-theme='dark'] .nav-item.active {
  background: rgba(182, 166, 255, 0.18);
  border-color: rgba(182, 166, 255, 0.3);
}

:root[data-theme='dark'] .nav-item:hover .nav-icon {
  background: #1f1930;
  border-color: rgba(182, 166, 255, 0.35);
}

:root[data-theme='dark'] .nav-icon {
  background: #2a2147;
  color: #b6a6ff;
}

.sus-icon {
  width: var(--sus-icon-size);
  height: var(--sus-icon-size);
  display: inline-block;
  vertical-align: middle;
}

.sus-icon .icon-stroke {
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
  vector-effect: non-scaling-stroke;
}

.sus-icon .icon-fill {
  stroke: none;
}

.sus-icon .sus-stop-1 {
  stop-color: var(--sus-blue);
}
.sus-icon .sus-stop-2 {
  stop-color: var(--sus-indigo);
}
.sus-icon .sus-stop-3 {
  stop-color: var(--sus-violet);
}
.sus-icon .sus-stop-4 {
  stop-color: var(--sus-pink);
}

.sus-icon.is-neutral .icon-stroke {
  stroke: var(--sus-neutral-stroke);
}

.sus-icon.is-neutral .icon-fill {
  fill: none;
}

.sus-icon.is-active .icon-stroke.is-gradient {
  stroke: var(--sus-gradient-id, url(#sus-gradient));
}

.sus-icon.is-active .icon-fill.is-gradient {
  fill: var(--sus-gradient-id, url(#sus-gradient));
}

.sus-icon.is-active {
  filter: drop-shadow(
    0 0 var(--sus-glow-blur) rgba(138, 77, 255, var(--sus-glow-opacity))
  );
}

.sus-icon.is-disabled {
  opacity: 0.65;
  filter: none;
}

.sus-icon.is-disabled .icon-stroke {
  stroke: var(--sus-disabled-stroke);
}

.sus-icon.is-disabled .icon-fill {
  fill: none;
}

.nav-item:hover .sus-icon.is-neutral .icon-stroke {
  stroke: var(--sus-ink);
}

.nav-item:hover .sus-icon.is-neutral {
  filter: drop-shadow(
    0 0 calc(var(--sus-glow-blur) * 0.8)
      rgba(79, 124, 255, calc(var(--sus-glow-opacity) * 0.7))
  );
}

.sidebar-footer {
  margin-top: auto;
  padding-top: 12px;
}

.upgrade-pill {
  padding: 10px 12px;
  border-radius: 999px;
  background: #f4f1ff;
  font-size: 12px;
  text-align: center;
  color: var(--muted);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) .upgrade-pill {
    background: rgba(182, 166, 255, 0.12);
    color: var(--muted);
  }
}

:root[data-theme='dark'] .upgrade-pill {
  background: rgba(182, 166, 255, 0.12);
  color: var(--muted);
}

.app-main {
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow-y: auto;
}

.top-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 28px;
  border-bottom: 1px solid var(--border);
  background: rgba(255, 250, 245, 0.75);
  backdrop-filter: blur(12px);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) .top-bar {
    background: rgba(18, 15, 12, 0.7);
  }
}

:root[data-theme='dark'] .top-bar {
  background: rgba(18, 15, 12, 0.7);
}

.top-title {
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.brand-mark {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  background: transparent;
  background-image: url('/images/icon-susarrare-light.png');
  background-size: cover;
  background-position: center;
  box-shadow: 0 10px 24px rgba(161, 90, 58, 0.25);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) .brand-mark {
    background-image: url('/images/icon-susarrare-dark.png');
  }
}

:root[data-theme='dark'] .brand-mark {
  background-image: url('/images/icon-susarrare-dark.png');
}

.top-actions {
  display: flex;
  gap: 10px;
  align-items: center;
}

.recording-pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid var(--border);
  background: #ffffff;
  color: var(--muted);
}

.recording-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--muted);
}

.recording-pill.recording {
  color: var(--recording);
  border-color: rgba(193, 75, 47, 0.4);
  background: rgba(193, 75, 47, 0.12);
}

.recording-pill.recording .recording-dot {
  background: var(--recording);
  box-shadow: 0 0 0 4px rgba(193, 75, 47, 0.2);
}

.recording-pill.processing {
  color: var(--processing);
  border-color: rgba(47, 108, 179, 0.4);
  background: rgba(47, 108, 179, 0.12);
}

.recording-pill.processing .recording-dot {
  background: var(--processing);
}

.recording-pill.error {
  color: var(--recording);
  border-color: rgba(193, 75, 47, 0.4);
  background: rgba(193, 75, 47, 0.12);
}

.recording-pill.error .recording-dot {
  background: var(--recording);
}

.pill {
  border: 1px solid var(--border);
  background: var(--surface-strong);
  min-height: 34px;
  padding: 6px 12px;
  border-radius: 999px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  line-height: 1;
  transition: border-color 0.15s ease, background-color 0.15s ease;
}

.pill:hover {
  border-color: color-mix(in srgb, var(--accent) 35%, var(--border));
  background: color-mix(in srgb, var(--accent-soft) 42%, var(--surface-strong));
}

.icon-button {
  border: none;
  background: var(--surface-strong);
  border-radius: 999px;
  padding: 4px;
  cursor: pointer;
}

.avatar {
  display: inline-flex;
  width: 32px;
  height: 32px;
  border-radius: 999px;
  background: #222;
  color: #fff;
  align-items: center;
  justify-content: center;
  font-size: 12px;
}

.content {
  padding: 26px 34px 44px;
}

.view {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.view-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
}

.view-header > div {
  display: grid;
  gap: 6px;
  min-width: 0;
}

.view-header-actions {
  display: flex;
  flex-shrink: 0;
  align-items: center;
  gap: 8px;
}

.view > h2,
.view-header h2 {
  margin: 0;
  font-family: var(--font-serif);
  font-size: 30px;
  line-height: 1.05;
  letter-spacing: -0.01em;
  color: var(--text);
}

.view-title {
  display: block;
}

.view-title-main {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.view-help-link {
  width: 16px;
  height: 16px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--text-muted) 30%, transparent);
  background: color-mix(in srgb, var(--text-muted) 7%, transparent);
  color: color-mix(in srgb, var(--text-muted) 92%, var(--text) 8%);
  font-family: var(--font-sans);
  font-size: 10px;
  font-weight: 600;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  cursor: pointer;
  transition: border-color 0.15s ease, color 0.15s ease, background-color 0.15s ease;
}

.view-help-link:hover {
  border-color: color-mix(in srgb, var(--text-muted) 55%, transparent);
  color: color-mix(in srgb, var(--text-muted) 70%, var(--text) 30%);
  background: color-mix(in srgb, var(--text-muted) 14%, transparent);
}

.view-help-link:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

.view > h2::after,
.view-header h2::after {
  content: '';
  display: block;
  width: 86px;
  height: 3px;
  margin-top: 8px;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    var(--sus-blue) 0%,
    var(--sus-indigo) 45%,
    var(--sus-violet) 80%,
    var(--sus-pink) 100%
  );
}

.view-header p,
.view > p.muted {
  margin: 0;
  max-width: 68ch;
  line-height: 1.45;
  color: var(--text-muted);
}

.card > h2 {
  margin: 0 0 10px;
  font-family: var(--font-serif);
  font-size: 24px;
  line-height: 1.15;
}

.card > h3 {
  margin: 0 0 10px;
  font-size: 16px;
  line-height: 1.3;
}

.card > p {
  margin: 0 0 12px;
  color: var(--text-muted);
  line-height: 1.5;
}

.card {
  background: var(--surface);
  border-radius: 18px;
  padding: 20px 22px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  position: relative;
  overflow: hidden;
}

.card::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent 0%, var(--card-accent) 35%, transparent 65%);
  opacity: 0.4;
  pointer-events: none;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
}

.stats-actions {
  display: flex;
  justify-content: flex-end;
  margin: 0;
}

.stats-trends-button {
  font-size: 12px;
  padding: 6px 12px;
}

.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(15, 16, 24, 0.45);
  display: grid;
  place-items: center;
  z-index: 2000;
  padding: 24px;
}

.modal-window {
  width: min(980px, 92vw);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 20px 22px;
  box-shadow: 0 24px 60px rgba(14, 18, 36, 0.32);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 16px;
  align-items: center;
}

.modal-actions {
  display: flex;
  gap: 12px;
  align-items: center;
}

.segmented {
  display: inline-flex;
  gap: 4px;
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 4px;
  background: var(--surface-strong);
}

.segmented button {
  border: none;
  background: transparent;
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 12px;
  color: var(--text-muted);
  cursor: pointer;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.segmented button.active,
.segmented .selected {
  background: var(--accent);
  color: #fff;
}

.segmented button:not(.active):not(.selected):hover {
  background: var(--accent-soft);
  color: var(--accent);
}

.stats-chart-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

.stats-chart-card {
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 14px 16px;
  background: var(--surface-strong);
  display: grid;
  gap: 10px;
}

.stats-summary-card .stats-chart-header {
  align-items: baseline;
}

.stats-summary-text {
  margin: 0;
  font-size: 13px;
  line-height: 1.5;
  color: var(--text-muted);
}

.stats-thinking {
  display: grid;
  place-items: center;
  gap: 8px;
  min-height: 90px;
}

.thinking-label {
  font-size: 11px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--text-muted);
}

.thinking-cloud {
  position: relative;
  width: 180px;
  height: 80px;
  animation: cloud-drift 5.8s ease-in-out infinite;
}

.thinking-cloud span {
  position: absolute;
  width: var(--dot-size);
  height: var(--dot-size);
  border-radius: 50%;
  background: linear-gradient(135deg, #2fc2ff 0%, #8a4dff 55%, #ff3ea5 100%);
  background-size: 200% 200%;
  opacity: 0.65;
  left: var(--dot-x);
  top: var(--dot-y);
  animation: dot-float 2.8s ease-in-out infinite, dot-gradient 6s ease-in-out infinite;
  animation-delay: calc(var(--dot-index) * -0.14s);
  box-shadow: 0 0 8px rgba(138, 77, 255, 0.3);
}

@keyframes cloud-drift {
  0% {
    transform: translateX(-6px) translateY(2px);
  }
  50% {
    transform: translateX(6px) translateY(-2px);
  }
  100% {
    transform: translateX(-6px) translateY(2px);
  }
}

@keyframes dot-float {
  0% {
    transform: translate(0, 0) scale(0.92);
    opacity: 0.5;
  }
  50% {
    transform: translate(6px, -8px) scale(1);
    opacity: 0.8;
  }
  100% {
    transform: translate(-4px, 6px) scale(0.9);
    opacity: 0.55;
  }
}

@keyframes dot-gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 40%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.thinking-cloud span:nth-child(4n) {
  animation-duration: 3.4s;
}

.thinking-cloud span:nth-child(5n) {
  animation-duration: 2.6s;
}

.stats-chart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.stats-chart-header h3 {
  margin: 0;
  font-size: 14px;
}

.stats-chart-value {
  font-size: 12px;
  color: var(--accent);
  font-weight: 600;
}

.stats-line-chart {
  width: 100%;
  height: 120px;
}

.stats-chart-wrapper {
  position: relative;
}

.stats-line-chart polyline {
  fill: none;
  stroke: var(--accent);
  stroke-width: 2.2;
}

.stats-line-hit {
  fill: transparent;
  stroke: transparent;
  cursor: crosshair;
}

.stats-tooltip {
  position: absolute;
  transform: translate(-50%, -120%);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 6px 8px;
  font-size: 11px;
  color: var(--text);
  box-shadow: 0 8px 18px rgba(10, 12, 24, 0.2);
  pointer-events: none;
  display: grid;
  gap: 2px;
  min-width: 70px;
  text-align: center;
}

.stats-tooltip strong {
  font-size: 12px;
  color: var(--accent);
}

.stats-chart-axis {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  color: var(--text-muted);
}

.stat-card {
  background: var(--surface-strong);
  border-radius: 18px;
  padding: 16px 18px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

.stat-value {
  font-size: 20px;
  font-weight: 600;
}

.stat-label {
  color: var(--muted);
  font-size: 12px;
}

.action-list {
  display: grid;
  gap: 12px;
}

.action-list > div {
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
}

.action-list h3 {
  margin: 0 0 4px;
}

.news-item {
  display: flex;
  gap: 16px;
  align-items: flex-start;
}

.tag {
  background: var(--accent-soft);
  color: var(--accent);
  border: 1px solid color-mix(in srgb, var(--accent) 22%, var(--border));
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
}

.mode-list {
  display: grid;
  gap: 12px;
}

.mode-list-summary {
  display: grid;
  gap: 12px;
}

.mode-list-item {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 14px 16px;
  box-shadow: var(--shadow);
  cursor: pointer;
  transition: border-color 0.15s ease, transform 0.15s ease, box-shadow 0.15s ease;
}

.mode-list-item:hover {
  border-color: rgba(107, 91, 212, 0.35);
  transform: translateY(-1px);
}

.mode-link {
  text-align: left;
  display: flex;
  flex-direction: column;
  gap: 6px;
  color: inherit;
}

.mode-link h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: var(--accent);
}

.mode-meta {
  color: var(--muted);
  font-size: 12px;
}

.mode-list-actions {
  display: flex;
  gap: 8px;
  align-items: flex-start;
}

.form-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
  align-items: end;
}

.form-row label,
.mode-field {
  display: grid;
  gap: 6px;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-muted);
}

.form-row input {
  width: 100%;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
}

.form-row select {
  width: 100%;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
}

.toggle-row,
.shortcut-row,
.slider-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  padding: 12px 0;
  border-top: 1px solid var(--border);
}

.toggle-row > div:first-child,
.shortcut-row > div:first-child,
.slider-row > span:first-child {
  color: var(--text);
  font-weight: 600;
  font-size: 13px;
  line-height: 1.35;
}

.shortcut-row p {
  margin: 4px 0 0;
  color: var(--text-muted);
  font-size: 12px;
}

.toggle-row select {
  min-width: 180px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
}

.toggle-row:first-of-type,
.shortcut-row:first-of-type,
.slider-row:first-of-type {
  border-top: none;
}

.keycap {
  padding: 6px 10px;
  border-radius: 8px;
  background: var(--surface-strong);
  border: 1px solid var(--border);
  font-size: 12px;
}

.segmented {
  display: inline-flex;
}

.segmented button {
  padding: 6px 12px;
}

.segmented .selected,
.segmented .active {
  background: var(--accent);
  color: #fff;
}

.switch {
  position: relative;
  display: inline-block;
  width: 46px;
  height: 26px;
  flex-shrink: 0;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  inset: 0;
  background: #c7c9cf;
  border: 1px solid rgba(0, 0, 0, 0.08);
  transition: 0.2s;
  border-radius: 999px;
}

.slider:before {
  position: absolute;
  content: '';
  height: 20px;
  width: 20px;
  left: 3px;
  bottom: 3px;
  background: white;
  transition: 0.2s;
  border-radius: 999px;
}

.switch input:checked + .slider {
  background: var(--accent);
}

.switch input:checked + .slider:before {
  transform: translateX(20px);
}

.primary {
  background: var(--accent);
  color: #fff;
  border: 1px solid transparent;
  min-height: 36px;
  padding: 8px 14px;
  border-radius: 12px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  line-height: 1;
  transition: filter 0.15s ease, transform 0.15s ease, box-shadow 0.15s ease;
}

.primary:hover {
  filter: brightness(0.95);
}

.chip {
  border: 1px solid var(--border);
  min-height: 34px;
  padding: 6px 12px;
  border-radius: 999px;
  background: var(--surface-strong);
  color: var(--text);
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  line-height: 1;
  transition: border-color 0.15s ease, background-color 0.15s ease, transform 0.15s ease;
}

.chip:hover {
  border-color: color-mix(in srgb, var(--accent) 35%, var(--border));
  background: color-mix(in srgb, var(--accent-soft) 42%, var(--surface-strong));
}

.primary:focus-visible,
.chip:focus-visible,
.pill:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

.primary:disabled,
.chip:disabled,
.pill:disabled {
  opacity: 0.55;
  cursor: not-allowed;
  filter: none;
  transform: none;
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

.model-card {
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 16px;
  border-radius: 18px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.model-card h3 {
  margin: 0;
  font-size: 17px;
}

.model-card p {
  margin: 0;
  font-size: 12px;
  color: var(--text-muted);
  font-family: 'IBM Plex Mono', ui-monospace, Menlo, monospace;
}

.model-tag {
  align-self: flex-start;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  background: var(--accent-soft);
  color: var(--accent);
}

.mode-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px 18px;
  display: grid;
  gap: 12px;
}

.mode-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.mode-header-actions {
  display: flex;
  gap: 8px;
  align-items: center;
}

.mode-title {
  display: flex;
  align-items: center;
  gap: 10px;
}

.mode-title h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: var(--accent);
}

.mode-rename {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

.mode-name-input {
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
  font-size: 16px;
}

.mode-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  --field-width-standard: 20rem;
}

.mode-grid-aligned {
  gap: 16px 24px;
  grid-template-columns: minmax(260px, 1.2fr) minmax(200px, 0.9fr);
  grid-auto-rows: auto;
}

.mode-grid-aligned .mode-column {
  display: contents;
}

.mode-grid input,
.mode-grid select {
  width: 100%;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
}

.mode-textarea {
  width: 100%;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
  font-family: inherit;
  font-size: 13px;
  resize: vertical;
}

.mode-column {
  display: grid;
  gap: 12px;
}

.mode-column-compact {
  gap: 6px;
}

.mode-field {
  display: grid;
  gap: 6px;
}

.inline-toggle {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: start;
  column-gap: 12px;
  padding: 0;
}

.formatting-toggles {
  display: grid;
  gap: 8px;
}

.scope-toggle {
  display: grid;
  gap: 8px;
  padding: 0;
  margin-top: 2px;
}

.scope-options {
  display: grid;
  gap: 8px;
  line-height: 1.3;
  margin-top: 0;
}

.scope-toggle label {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  column-gap: 10px;
  font-size: 13px;
  white-space: nowrap;
  padding: 0;
  margin: 0;
}

.inline-toggle input[type='checkbox'],
.scope-toggle input[type='checkbox'] {
  justify-self: end;
  margin-top: 0;
  width: 16px;
  height: 16px;
}

.mode-row {
  display: grid;
  gap: 6px;
}

.mode-dev-hint {
  margin: 2px 0 0;
  font-size: 11px;
  line-height: 1.35;
  color: var(--text-muted);
}

.row-left {
  grid-column: 1;
}

.row-right {
  grid-column: 2;
}

.row-model {
  grid-row: 1;
}

.row-insertion {
  grid-row: 2;
}

.row-prompt {
  grid-row: 3;
}

.row-format {
  grid-row: 4;
}

.mode-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.chip.danger {
  border-color: #e0b4b4;
  color: #b42318;
}

.history-toolbar {
  display: flex;
  gap: 12px;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
}

.history-input {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

.history-input .search {
  flex: 1 1 280px;
}

.config-row {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.config-row .keycap-input {
  flex: 0 1 var(--field-width-wide);
}

.keycap-input {
  width: min(100%, var(--field-width-short));
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
  font-size: 13px;
  min-width: 120px;
}

.warning-text {
  color: #b42318;
  font-size: 12px;
  margin-top: 4px;
}
.history-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.history-groups {
  display: grid;
  gap: 14px;
}

.history-group {
  display: grid;
  gap: 10px;
}

.history-label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: color-mix(in srgb, var(--text-muted) 90%, var(--text));
}

.history-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.history-item {
  background: var(--surface-strong);
  padding: 14px 16px;
  border-radius: 16px;
  border: 1px solid var(--border);
  display: grid;
  gap: 10px;
  box-shadow: var(--shadow);
}

.history-item.pinned {
  border-color: #ffd580;
  box-shadow: 0 8px 24px rgba(255, 204, 102, 0.2);
}

.history-row {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 12px;
  align-items: start;
}

.history-text {
  line-height: 1.5;
}

.history-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
  color: var(--muted);
  font-size: 12px;
}

.history-meta-item {
  background: var(--surface);
  padding: 3px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  color: var(--text-muted);
}

.history-badge {
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
  border: 1px solid #b8dec0;
  background: #e8f5e9;
  color: #1b5e20;
}

.history-badge.failed {
  background: #fdecea;
  color: #b42318;
  border-color: #f1b1aa;
}

.history-badge.cancelled {
  background: #f3f4f6;
  color: #4b5563;
  border-color: #d1d5db;
}

.history-error {
  font-size: 12px;
  color: #b42318;
}

.history-segments {
  display: grid;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px dashed var(--border);
  background: var(--surface);
}

.history-segment {
  display: grid;
  grid-template-columns: minmax(90px, 130px) 1fr;
  gap: 10px;
  font-size: 13px;
  color: var(--text-muted);
}

.history-speaker {
  font-weight: 600;
  color: var(--text);
}

.history-segment-text {
  line-height: 1.4;
}

.highlight {
  background: var(--highlight);
  border-radius: 4px;
  padding: 0 2px;
}

.history-item-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.history-select input {
  width: 16px;
  height: 16px;
  margin-top: 2px;
}

.vocab-list {
  display: grid;
  gap: 10px;
  margin-top: 12px;
}

.vocab-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 8px;
  align-items: center;
}

.vocab-row input,
.vocab-row select {
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
}

.vocab-actions {
  display: flex;
  gap: 8px;
  align-items: center;
}

.shortcut-textarea {
  width: 100%;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
  font-family: inherit;
  font-size: 13px;
  resize: vertical;
}

.shortcut-edit {
  margin: 6px 0 4px;
  width: 100%;
  padding: 0;
  border-radius: 0;
  border: 1px solid transparent;
  background: transparent;
  font-family: inherit;
  font-size: 13px;
  color: var(--text-muted);
  resize: none;
  box-sizing: border-box;
}

.shortcut-edit:focus {
  outline: none;
  border-color: transparent;
}

.shortcut-list {
  display: grid;
  gap: 12px;
  margin-top: 12px;
}

.shortcut-row {
  display: flex;
  justify-content: space-between;
  gap: 16px;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
}

.shortcut-row.is-editing {
  border-color: color-mix(in srgb, var(--accent) 35%, var(--border));
  box-shadow: 0 0 0 1px color-mix(in srgb, var(--accent) 15%, transparent);
}

.shortcut-body {
  flex: 1;
  min-width: 0;
}

.shortcut-keyword {
  font-weight: 600;
  margin-bottom: 4px;
}

.editing-badge {
  display: inline-flex;
  align-items: center;
  margin-left: 8px;
  padding: 2px 6px;
  border-radius: 999px;
  font-size: 10px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
  border: 1px solid var(--border);
  background: var(--surface);
}

.shortcut-snippet {
  font-size: 13px;
  color: var(--text-muted);
  white-space: pre-wrap;
}

.shortcut-actions {
  flex-direction: column;
  align-items: flex-end;
}

.empty-state {
  text-align: center;
  padding: 18px;
  color: var(--muted);
}

.empty-state h4 {
  margin: 0 0 6px;
  color: var(--text);
}

.empty-state p {
  margin: 0;
}

.status-banner-slot {
  position: fixed;
  left: calc(50% + 120px);
  bottom: 20px;
  transform: translateX(-50%);
  width: min(520px, calc(100% - 48px));
  z-index: 50;
  pointer-events: none;
}

.status-banner {
  background: #ffffff;
  border: 1px solid #7a66d4;
  border-radius: 12px;
  padding: 10px 12px;
  font-size: 13px;
  line-height: 1.45;
  color: var(--text);
  box-shadow: 0 12px 24px rgba(36, 30, 74, 0.16);
  transition: opacity 0.4s ease, transform 0.4s ease;
  position: relative;
  overflow: hidden;
}

.status-banner::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, rgba(188, 176, 255, 0.5) 0%, rgba(255, 255, 255, 0) 70%);
  opacity: 1;
  z-index: 0;
}

.status-banner > * {
  position: relative;
  z-index: 1;
}

:root[data-theme='dark'] .status-banner {
  background: #1a1428;
  border-color: #8a74f0;
}

.status-banner.is-empty {
  visibility: hidden;
}

.status-banner.is-hidden {
  opacity: 0;
  transform: translateY(8px);
}

.status-banner:not(.is-empty)::before {
  animation: bannerGradientFade 1s ease-out both;
}

:root[data-theme='dark'] .status-banner::before {
  background: linear-gradient(90deg, rgba(138, 123, 255, 0.3) 0%, rgba(26, 20, 40, 0) 70%);
}

@keyframes bannerGradientFade {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.search {
  width: 100%;
}

.view
  :is(
    input:not([type]),
    input[type='text'],
    input[type='password'],
    input[type='search'],
    input[type='number'],
    input[type='email'],
    input[type='url'],
    select
  ) {
  width: min(100%, var(--field-width-standard));
  max-width: 100%;
  min-height: 36px;
  padding: var(--control-padding-y) var(--control-padding-x);
  border-radius: var(--control-radius);
  border: 1px solid var(--border);
  background: var(--surface-strong);
  color: var(--text);
  font-size: 13px;
  transition: border-color 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
}

.view
  :is(
    input:not([type]),
    input[type='text'],
    input[type='password'],
    input[type='search'],
    input[type='number'],
    input[type='email'],
    input[type='url'],
    select
  )::placeholder {
  color: color-mix(in srgb, var(--text-muted) 85%, transparent);
}

.view
  :is(
    input:not([type]),
    input[type='text'],
    input[type='password'],
    input[type='search'],
    input[type='number'],
    input[type='email'],
    input[type='url'],
    select
  ):focus-visible {
  outline: none;
  border-color: color-mix(in srgb, var(--accent) 45%, var(--border));
  box-shadow: var(--focus-ring);
}

.view
  :is(
    input:not([type]),
    input[type='text'],
    input[type='password'],
    input[type='search'],
    input[type='number'],
    input[type='email'],
    input[type='url'],
    select
  ):disabled {
  opacity: 0.65;
  cursor: not-allowed;
}

.view textarea,
.view .search {
  width: 100%;
  max-width: none;
}

.view .field-wide {
  width: min(100%, var(--field-width-wide));
  max-width: 100%;
}

.view :is(input[type='checkbox']) {
  accent-color: var(--accent);
}

.input-warning {
  border-color: #e0b4b4;
}

.input-warning:focus-visible {
  box-shadow: 0 0 0 3px rgba(180, 35, 24, 0.2);
}

.muted {
  color: var(--muted);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) .slider {
    background: #4b4a58;
    border-color: rgba(255, 255, 255, 0.12);
  }

  :root:not([data-theme='light']) .history-badge {
    background: rgba(89, 194, 138, 0.18);
    border-color: rgba(89, 194, 138, 0.38);
    color: #b8f0cf;
  }

  :root:not([data-theme='light']) .history-badge.failed {
    background: rgba(240, 107, 107, 0.2);
    border-color: rgba(240, 107, 107, 0.45);
    color: #ffd1d1;
  }

  :root:not([data-theme='light']) .history-badge.cancelled {
    background: rgba(177, 169, 214, 0.18);
    border-color: rgba(177, 169, 214, 0.35);
    color: #d9d2f4;
  }
}

:root[data-theme='dark'] .slider {
  background: #4b4a58;
  border-color: rgba(255, 255, 255, 0.12);
}

:root[data-theme='dark'] .history-badge {
  background: rgba(89, 194, 138, 0.18);
  border-color: rgba(89, 194, 138, 0.38);
  color: #b8f0cf;
}

:root[data-theme='dark'] .history-badge.failed {
  background: rgba(240, 107, 107, 0.2);
  border-color: rgba(240, 107, 107, 0.45);
  color: #ffd1d1;
}

:root[data-theme='dark'] .history-badge.cancelled {
  background: rgba(177, 169, 214, 0.18);
  border-color: rgba(177, 169, 214, 0.35);
  color: #d9d2f4;
}

@media (max-width: 960px) {
  .app-shell {
    grid-template-columns: 84px 1fr;
  }

  .content {
    padding: 18px 18px 30px;
  }

  .view {
    gap: 16px;
  }

  .view > h2,
  .view-header h2 {
    font-size: 24px;
  }

  .view-header {
    flex-direction: column;
    gap: 12px;
  }

  .view-header-actions {
    width: 100%;
  }

  .card {
    padding: 16px;
    border-radius: 16px;
  }

  .card-grid,
  .stats-chart-grid {
    grid-template-columns: 1fr;
  }

  .toggle-row,
  .shortcut-row,
  .slider-row {
    flex-direction: column;
    align-items: flex-start;
  }

  .toggle-row > :last-child,
  .shortcut-row > :last-child,
  .slider-row > :last-child {
    width: 100%;
  }

  .toggle-row > .segmented,
  .toggle-row > .switch {
    width: auto;
    max-width: 100%;
  }

  .toggle-row > .chip {
    width: auto;
  }

  .toggle-row > .switch {
    width: 46px;
  }

  .toggle-row select,
  .keycap-input {
    width: 100%;
    min-width: 0;
  }

  .config-row,
  .history-toolbar,
  .history-input {
    align-items: stretch;
  }

  .history-actions,
  .mode-actions,
  .vocab-actions,
  .modal-actions {
    width: 100%;
    flex-wrap: wrap;
  }

  .shortcut-actions {
    flex-direction: row;
    align-items: center;
  }

  .mode-grid-aligned {
    grid-template-columns: 1fr;
    gap: 14px;
  }

  .row-left,
  .row-right,
  .row-model,
  .row-insertion,
  .row-prompt,
  .row-format {
    grid-column: auto;
    grid-row: auto;
  }

  .scope-toggle label {
    white-space: normal;
  }

  .status-banner-slot {
    left: 50%;
    width: min(560px, calc(100% - 24px));
  }

  .sidebar {
    padding: 18px 10px;
    align-items: center;
  }

  .sidebar-header {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .sidebar-header .brand,
  .sidebar-header .subtitle {
    display: none;
  }

  .nav {
    gap: 10px;
  }

  .nav-item {
    justify-content: center;
    padding: 10px;
  }

  .nav-item span:last-child {
    display: none;
  }

  .sidebar-footer {
    display: none;
  }
}
